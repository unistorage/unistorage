language: python
python:
  - "2.7"
before_install:
  - sudo bash -c 'echo "deb http://79.172.49.99/debian/ squeeze main" >> /etc/apt/sources.list'
  - sudo apt-get update
  - sudo apt-get -qq install libopencore-amrnb0 libopencore-amrwb0 libopencore-amrnb-dev libopencore-amrwb-dev zlib1g zlib1g-dev x264 ubuntu-restricted-extras libmp3lame0 flvtool2
  - sudo apt-get -qq install ffmpeg
  - sudo apt-get install -t squeeze -y --force-yes $(apt-cache --no-generate pkgnames ooobasis3.4 | tr '\n' ' ')
  - sudo apt-get install -t squeeze -y --force-yes openoffice.org-ure $(apt-cache --no-generate pkgnames openoffice.org3 | tr '\n' ' ')
  - avconv -codecs
  - sudo ln -s /usr/lib/i386-linux-gnu/libz.so /usr/lib/
  - file -C -m ./magic
  - sudo npm install -g less
  - wget https://raw.github.com/mediasite/openoffice-wrapper/master/oowrapper.py
  - chmod +x ./oowrapper.py
  - sudo mv ./oowrapper.py /bin/
install:
  - pip install -r requirements/basic.txt
  - pip install -r requirements/dev.txt
  - pip install -r requirements/workers.txt
script: nosetests
